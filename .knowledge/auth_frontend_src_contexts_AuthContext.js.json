{"is_source_file": true, "format": "JavaScript", "description": "This file defines the React context and provider for managing user authentication state, including login, logout, session handling, and two-factor authentication procedures.", "external_files": ["../lib/supabase", "../lib/api"], "external_methods": ["supabase.auth.getSession", "supabase.auth.onAuthStateChange", "supabase.auth.signOut", "api.auth.signup", "api.auth.login", "api.auth.logout", "api.twoFactor.sendOtp", "api.twoFactor.verifyOtp", "api.auth.forgotPassword", "api.auth.resetPassword"], "published": ["AuthProvider", "useAuth"], "classes": [], "methods": [{"name": "authReducer", "description": "Reducer function managing authentication state transitions based on action types."}, {"name": "AuthProvider", "description": "React context provider component that manages authentication state, session timeout, and exposes authentication functions."}, {"name": "signup", "description": "Function to handle user sign-up process via API."}, {"name": "login", "description": "Function to handle user login process via API, triggering 2FA if needed."}, {"name": "logout", "description": "Function to sign out the user, clear tokens, and update context state."}, {"name": "sendTwoFactorOtp", "description": "Function to request sending a 2FA OTP to user email."}, {"name": "verifyTwoFactorOtp", "description": "Function to verify the provided 2FA OTP and handle authentication."}, {"name": "forgotPassword", "description": "Function to initiate password reset process via API."}, {"name": "resetPassword", "description": "Function to reset user's password using a token."}, {"name": "clearError", "description": "Function to clear error state in the context."}], "calls": ["supabase.auth.getSession", "supabase.auth.onAuthStateChange", "supabase.auth.signOut", "api.auth.signup", "api.auth.login", "api.auth.logout", "api.twoFactor.sendOtp", "api.twoFactor.verifyOtp", "api.auth.forgotPassword", "api.auth.resetPassword"], "search-terms": ["AuthContext", "AuthProvider", "session timeout", "2FA", "session management", "React context"], "state": 2, "file_id": 18, "knowledge_revision": 74, "git_revision": "", "revision_history": [{"37": ""}, {"74": ""}], "ctags": [{"_type": "tag", "name": "AuthContext", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^const AuthContext = createContext()$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "AuthProvider", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^export const AuthProvider = ({ children }) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authReducer", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^const authReducer = (state, action) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "children", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^export const AuthProvider = ({ children }) => {$/", "language": "JavaScript", "kind": "field", "scope": "AuthProvider", "scopeKind": "class"}, {"_type": "tag", "name": "clearError", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const clearError = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const context = useContext(AuthContext)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "dispatch", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const [state, dispatch] = useReducer(authReducer, initialState)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "error", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  error: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "forgotPassword", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const forgotPassword = async (email) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "initialState", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^const initialState = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "loading", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  loading: true,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const login = async (credentials) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const logout = async () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resetPassword", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const resetPassword = async (token, newPassword) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^      const result = await api.auth.login(credentials)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^      const result = await api.auth.signup(userData)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^      const result = await api.twoFactor.verifyOtp(email, otpCode)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "sendTwoFactorOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const sendTwoFactorOtp = async (email) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "session", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  session: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "twoFactorRequired", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  twoFactorRequired: false,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  user: null,$/", "language": "JavaScript", "kind": "property", "scope": "initialState", "scopeKind": "class"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const value = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  return <AuthContext.Provider value={value}>{children}<\\/AuthContext.Provider>$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}, {"_type": "tag", "name": "verifyTwoFactorOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/contexts/AuthContext.js", "pattern": "/^  const verifyTwoFactorOtp = async (email, otpCode) => {$/", "language": "JavaScript", "kind": "constant"}], "hash": "4f0d46f50a79d83181ec1cfea118cd63", "format-version": 4, "code-base-name": "auth_frontend", "filename": "auth_frontend/src/contexts/AuthContext.js", "fields": [{"name": "export const AuthProvider = ({ children }) => {", "scope": "AuthProvider", "scopeKind": "class", "description": "unavailable"}, {"name": "error: null,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "loading: true,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "session: null,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "twoFactorRequired: false,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "user: null,", "scope": "initialState", "scopeKind": "class", "description": "unavailable"}, {"name": "return <AuthContext.Provider value={value}>{children}<\\/AuthContext.Provider>", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}]}