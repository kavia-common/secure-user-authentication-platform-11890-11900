{"is_source_file": true, "format": "JavaScript", "description": "React component implementing a two-factor authentication (2FA) verification page, including OTP input, resend functionality, and success handling.", "external_files": ["../../contexts/AuthContext", "../ui/Button", "../ui/Card", "../ui/Alert"], "external_methods": ["useAuth", "verifyTwoFactorOtp", "sendTwoFactorOtp", "clearError"], "published": ["TwoFactorAuth"], "classes": [], "methods": [{"name": "handleOtpChange", "description": "Handles user input for OTP digits, updates state, manages focus, and auto-submits when complete."}, {"name": "handleKeyDown", "description": "Handles key events, specifically backspace to manage focus when deleting digits."}, {"name": "handleSubmit", "description": "Verifies the entered OTP, manages submission state, and redirects on success."}, {"name": "handleResendOtp", "description": "Handles resend OTP functionality with a cooldown timer."}, {"name": "handleManualSubmit", "description": "Handles manual form submission, calls handleSubmit."}], "calls": ["sendTwoFactorOtp", "verifyTwoFactorOtp", "navigate", "console.error"], "search-terms": ["2FA", "OTP input", "react-router-dom", "useAuth", "resend timer", "TwoFactorAuth component", "sendTwoFactorOtp", "verifyTwoFactorOtp"], "state": 2, "file_id": 27, "knowledge_revision": 55, "git_revision": "", "ctags": [{"_type": "tag", "name": "TwoFactorAuth", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^export const TwoFactorAuth = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "codeToVerify", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^    const codeToVerify = otpCode || otp.join('')$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const email = location.state?.email || localStorage.getItem('user_email')$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleKeyDown", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const handleKeyDown = (index, e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleResendOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^                  onClick={handleResendOtp}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "handleSubmit", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const handleSubmit = async (otpCode = null) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "inputRefs", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const inputRefs = useRef([])$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isSubmitting", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^                disabled={isSubmitting || otp.join('').length !== 6}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "isSubmitting", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^                loading={isSubmitting}$/", "language": "JavaScript", "kind": "field", "scope": "loading", "scopeKind": "class"}, {"_type": "tag", "name": "location", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const location = useLocation()$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "navigate", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const navigate = useNavigate()$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^    const newOtp = [...otp]$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resendTimer", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^                  disabled={resendTimer > 0 || isResending}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "setIsResending", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [isResending, setIsResending] = useState(false)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsSubmitting", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [isSubmitting, setIsSubmitting] = useState(false)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [otp, setOtp] = useState(['', '', '', '', '', ''])$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setResendTimer", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [resendTimer, setResendTimer] = useState(0)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShowSuccess", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [showSuccess, setShowSuccess] = useState(false)$/", "language": "JavaScript", "kind": "constant"}], "hash": "38ae53ccac239625009e22d451e86087", "format-version": 4, "code-base-name": "auth_frontend", "filename": "auth_frontend/src/components/auth/TwoFactorAuth.js", "fields": [{"name": "onClick={handleResendOtp}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={isSubmitting || otp.join('').length !== 6}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "loading={isSubmitting}", "scope": "loading", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={resendTimer > 0 || isResending}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"55": ""}]}