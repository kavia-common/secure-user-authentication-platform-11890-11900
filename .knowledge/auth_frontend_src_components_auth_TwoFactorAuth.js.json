{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "A React component for two-factor authentication (2FA) that handles OTP input, verification, resend logic, and user interface rendering.", "external_files": ["../../contexts/AuthContext", "../ui/Button", "../ui/Card", "../ui/Alert"], "external_methods": ["useAuth.verifyTwoFactorOtp", "useAuth.sendTwoFactorOtp"], "published": ["TwoFactorAuth"], "classes": [], "methods": [{"name": "TwoFactorAuth", "description": "React functional component for handling 2FA OTP verification process."}], "calls": ["useAuth.verifyTwoFactorOtp", "useAuth.sendTwoFactorOtp", "useNavigate", "useLocation", "setTimeout", "clearTimeout", "setResendTimer", "setOtp", "setShowSuccess", "setIsSubmitting", "setIsResending", "navigate", "sendTwoFactorOtp", "verifyTwoFactorOtp", "window.localStorage.getItem", "setTimeout", "setResendTimer", "setOtp", "sendTwoFactorOtp", "verifyTwoFactorOtp"], "search-terms": ["TwoFactorAuth", "OTP input", "resend OTP", "two-factor authentication", "react router", "useAuth context", "React hooks", "OTP verification", "resend timer"], "state": 2, "file_id": 27, "knowledge_revision": 121, "git_revision": "e3888bed91c5623c4757687d8d6f9c30fd90f31c", "revision_history": [{"55": ""}, {"107": "e3888bed91c5623c4757687d8d6f9c30fd90f31c"}, {"111": "e3888bed91c5623c4757687d8d6f9c30fd90f31c"}, {"115": "e3888bed91c5623c4757687d8d6f9c30fd90f31c"}, {"121": "e3888bed91c5623c4757687d8d6f9c30fd90f31c"}], "ctags": [{"_type": "tag", "name": "TwoFactorAuth", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^export const TwoFactorAuth = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "codeToVerify", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^    const codeToVerify = otpCode || otp.join('')$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const email = location.state?.email || (typeof window !== 'undefined' ? window.localStorage.ge/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleKeyDown", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const handleKeyDown = (index, e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleResendOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^                  onClick={handleResendOtp}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "handleSubmit", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const handleSubmit = async (otpCode = null) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "inputRefs", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const inputRefs = useRef(new Array(6).fill(null))$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isSubmitting", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^                disabled={isSubmitting || otp.join('').length !== 6}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "isSubmitting", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^                loading={isSubmitting}$/", "language": "JavaScript", "kind": "field", "scope": "loading", "scopeKind": "class"}, {"_type": "tag", "name": "location", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const location = useLocation()$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "navigate", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const navigate = useNavigate()$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^    const newOtp = [...otp]$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resendTimer", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^                  disabled={resendTimer > 0 || isResending}$/", "language": "JavaScript", "kind": "field", "scope": "disabled", "scopeKind": "class"}, {"_type": "tag", "name": "setIsResending", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [isResending, setIsResending] = useState(false)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsSubmitting", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [isSubmitting, setIsSubmitting] = useState(false)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [otp, setOtp] = useState(['', '', '', '', '', ''])$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setResendTimer", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [resendTimer, setResendTimer] = useState(0)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setShowSuccess", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^  const [showSuccess, setShowSuccess] = useState(false)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "text", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/components/auth/TwoFactorAuth.js", "pattern": "/^                const text = (e.clipboardData?.getData('text') || '').replace(\\/\\\\D\\/g, '').slic/", "language": "JavaScript", "kind": "constant", "scope": "onPaste", "scopeKind": "class"}], "hash": "59bcb1155ffd211febffd041c988ef41", "format-version": 4, "code-base-name": "auth_frontend", "filename": "auth_frontend/src/components/auth/TwoFactorAuth.js", "fields": [{"name": "onClick={handleResendOtp}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={isSubmitting || otp.join('').length !== 6}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "loading={isSubmitting}", "scope": "loading", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={resendTimer > 0 || isResending}", "scope": "disabled", "scopeKind": "class", "description": "unavailable"}]}