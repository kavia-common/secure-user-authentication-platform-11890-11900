{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API utility module for a web application, providing functions for making authenticated HTTP requests to various backend endpoints related to authentication, user profile management, two-factor authentication, and dashboard data. It includes error handling via the ApiError class.", "external_files": ["fetch API (built-in in browsers)", "localStorage (browser API)"], "external_methods": ["localStorage.getItem", "fetch"], "published": ["api", "ApiError"], "classes": [{"name": "ApiError", "description": "Custom error class extending Error to encapsulate API error details such as status and data."}], "methods": [{"name": "request(endpoint, options = {})", "description": "Performs an HTTP request to the specified API endpoint with given options, handling JSON serialization and error processing.", "scope": "api", "scopeKind": "class"}, {"name": "auth.signup", "description": "Sends a POST request to register a new user."}, {"name": "auth.login", "description": "Sends a POST request to authenticate a user and obtain tokens."}, {"name": "auth.logout", "description": "Sends a POST request to log out the current user."}, {"name": "auth.forgotPassword", "description": "Requests a password reset for the user via email."}, {"name": "auth.resetPassword", "description": "Sends a request to reset the user's password."}, {"name": "auth.verifyEmail", "description": "Verifies the user's email address with a token."}, {"name": "twoFactor.sendOtp", "description": "Requests OTP to be sent to the user's email."}, {"name": "twoFactor.verifyOtp", "description": "Verifies the OTP code sent to the user."}, {"name": "twoFactor.resendOtp", "description": "Resends OTP to the user's email."}, {"name": "twoFactor.getStatus", "description": "Checks the status of two-factor authentication."}, {"name": "user.getProfile", "description": "Retrieves the user's profile data."}, {"name": "user.updateProfile", "description": "Updates the user's profile information."}, {"name": "user.deleteAccount", "description": "Deletes the user's account."}, {"name": "user.getSessions", "description": "Retrieves active user sessions."}, {"name": "user.revokeSession", "description": "Revokes a specific user session."}, {"name": "dashboard.getData", "description": "Fetches dashboard data."}, {"name": "dashboard.getActivity", "description": "Retrieves activity-related data for the dashboard."}, {"name": "dashboard.getSecurity", "description": "Retrieves security-related data for the dashboard."}, {"name": "constructor(message, status, data)", "scope": "ApiError", "scopeKind": "class", "description": "unavailable"}, {"name": "deleteAccount()", "scope": "api.user", "scopeKind": "class", "description": "unavailable"}, {"name": "forgotPassword(email)", "scope": "api.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "getActivity()", "scope": "api.dashboard", "scopeKind": "class", "description": "unavailable"}, {"name": "getData()", "scope": "api.dashboard", "scopeKind": "class", "description": "unavailable"}, {"name": "getProfile()", "scope": "api.user", "scopeKind": "class", "description": "unavailable"}, {"name": "getSecurity()", "scope": "api.dashboard", "scopeKind": "class", "description": "unavailable"}, {"name": "getSessions()", "scope": "api.user", "scopeKind": "class", "description": "unavailable"}, {"name": "getStatus()", "scope": "api.twoFactor", "scopeKind": "class", "description": "unavailable"}, {"name": "login(credentials)", "scope": "api.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "logout()", "scope": "api.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "resendOtp(email)", "scope": "api.twoFactor", "scopeKind": "class", "description": "unavailable"}, {"name": "resetPassword(data)", "scope": "api.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "revokeSession(sessionId)", "scope": "api.user", "scopeKind": "class", "description": "unavailable"}, {"name": "sendOtp(email)", "scope": "api.twoFactor", "scopeKind": "class", "description": "unavailable"}, {"name": "signup(userData)", "scope": "api.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "updateProfile(profileData)", "scope": "api.user", "scopeKind": "class", "description": "unavailable"}, {"name": "verifyEmail(token, email)", "scope": "api.auth", "scopeKind": "class", "description": "unavailable"}, {"name": "verifyOtp(email, otpCode)", "scope": "api.twoFactor", "scopeKind": "class", "description": "unavailable"}], "calls": ["fetch", "localStorage.getItem", "api.request"], "search-terms": ["Auth API", "Two-factor authentication", "User profile management", "REST API client", "React environment variable", "API error handling", "auth_frontend/src/lib/api.js"], "state": 2, "file_id": 17, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_BACKEND_URL || 'http:\\/\\/localhost:8000'$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ApiError", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^class ApiError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^        'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "api.request.config.headers", "scopeKind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "auth", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^  auth: {$/", "language": "JavaScript", "kind": "class", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    const config = {$/", "language": "JavaScript", "kind": "class", "scope": "api.request", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^  constructor(message, status, data) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, status, data)", "scope": "ApiError", "scopeKind": "class"}, {"_type": "tag", "name": "dashboard", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^  dashboard: {$/", "language": "JavaScript", "kind": "class", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "deleteAccount", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async deleteAccount() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api.user", "scopeKind": "class"}, {"_type": "tag", "name": "forgotPassword", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async forgotPassword(email) {$/", "language": "JavaScript", "kind": "method", "signature": "(email)", "scope": "api.auth", "scopeKind": "class"}, {"_type": "tag", "name": "getActivity", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async getActivity() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api.dashboard", "scopeKind": "class"}, {"_type": "tag", "name": "getData", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async getData() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api.dashboard", "scopeKind": "class"}, {"_type": "tag", "name": "getProfile", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async getProfile() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api.user", "scopeKind": "class"}, {"_type": "tag", "name": "getSecurity", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async getSecurity() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api.dashboard", "scopeKind": "class"}, {"_type": "tag", "name": "getSessions", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async getSessions() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api.user", "scopeKind": "class"}, {"_type": "tag", "name": "getStatus", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async getStatus() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api.twoFactor", "scopeKind": "class"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^      headers: {$/", "language": "JavaScript", "kind": "class", "scope": "api.request.config", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async login(credentials) {$/", "language": "JavaScript", "kind": "method", "signature": "(credentials)", "scope": "api.auth", "scopeKind": "class"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async logout() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "api.auth", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^  async request(endpoint, options = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(endpoint, options = {})", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "resendOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async resendOtp(email) {$/", "language": "JavaScript", "kind": "method", "signature": "(email)", "scope": "api.twoFactor", "scopeKind": "class"}, {"_type": "tag", "name": "resetPassword", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async resetPassword(data) {$/", "language": "JavaScript", "kind": "method", "signature": "(data)", "scope": "api.auth", "scopeKind": "class"}, {"_type": "tag", "name": "revokeSession", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async revokeSession(sessionId) {$/", "language": "JavaScript", "kind": "method", "signature": "(sessionId)", "scope": "api.user", "scopeKind": "class"}, {"_type": "tag", "name": "sendOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async sendOtp(email) {$/", "language": "JavaScript", "kind": "method", "signature": "(email)", "scope": "api.twoFactor", "scopeKind": "class"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async signup(userData) {$/", "language": "JavaScript", "kind": "method", "signature": "(userData)", "scope": "api.auth", "scopeKind": "class"}, {"_type": "tag", "name": "twoFactor", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^  twoFactor: {$/", "language": "JavaScript", "kind": "class", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "updateProfile", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async updateProfile(profileData) {$/", "language": "JavaScript", "kind": "method", "signature": "(profileData)", "scope": "api.user", "scopeKind": "class"}, {"_type": "tag", "name": "user", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^  user: {$/", "language": "JavaScript", "kind": "class", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "verifyEmail", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async verifyEmail(token, email) {$/", "language": "JavaScript", "kind": "method", "signature": "(token, email)", "scope": "api.auth", "scopeKind": "class"}, {"_type": "tag", "name": "verifyOtp", "path": "/home/kavia/workspace/code-generation/secure-user-authentication-platform-11890-11900/auth_frontend/src/lib/api.js", "pattern": "/^    async verifyOtp(email, otpCode) {$/", "language": "JavaScript", "kind": "method", "signature": "(email, otpCode)", "scope": "api.twoFactor", "scopeKind": "class"}], "hash": "07d2bf388ff0f59850c0193230d5349c", "format-version": 4, "code-base-name": "auth_frontend", "filename": "auth_frontend/src/lib/api.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "api.request.config.headers", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"35": ""}]}